# waterfall-news
### 预览链接 ：https://xcc99.github.io/waterfall-snews/
### 实现原理：通过ajax获取新闻数据、使用 *瀑布流* 的方式进行布局、使用 *懒加载* 的方式展现新闻

### 获取数据
    获取线上api接口，通过ajax传递参数，获得新闻的数据，创建一个新节点，把数据循环展示到页面上

### 瀑布流原理
    1. 要把创建好的节点按照瀑布流的方式展现到页面上，每个节点的宽度必须是一致的，因此可以先设置好每个节点的固定宽度，
        以及中间展示墙的宽度，然后用中间展示墙的宽度/每一个节点的宽度，算出每一行能够展示的节点数（即摆放几个新闻）
    2. 把获取的节点数设置成一个数组，初始值为0，数组内的每一项分别用来计算每一列相加的高度，分别比较出数组内最小的
        值（即总高度最小），把新的新闻节点放到数组里的最小值里面，同时修改值为（原始值+这个新闻节点的高度）
    3. 依次类推...这样每次添加新节点时都会放到高度最短的一列
### 懒加载原理
    1. 由于使用线上api新闻条目较多，需要用户阅读时再进行加载以节省流量，避免刚开打页面时长时间的加载，懒加载原理就是
       在用户滚动窗口的时候判定满足某个条件后再进行加载后面的新闻
    2. 数据每次获取10条作为1页
    3. 在新闻底部放一个隐形的块元素，初始化时展示10条数据
    4. 当用户滚动窗口使元素在可视窗口展现时再发请求获取10条数据，实现懒加载效果

    - 
